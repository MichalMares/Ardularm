<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ardularm: Ardularm</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ardularm
   </div>
   <div id="projectbrief">Creating an Arduino-based alarm on a budget</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Ardularm </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Ardularm je projekt, který se zabývá vytvořením levného domácího alarmu prostřednictvím platformy Arduino. <a href="https://github.com/MichalMares/Ardularm">Repozitář na GitHubu</a></p>
<h2>Komponenty a zapojení</h2>
<p>Schéma zapojení:</p>
<div class="image">
<img src="wiring.png" alt="wiring.png"/>
<div class="caption">
Wiring</div></div>
<p> Použité součástky:</p><ul>
<li>Arduino UNO Rev3</li>
<li>Ethernet Shield R3</li>
<li>RFID Reader RC522</li>
<li>Passive Infrared Sensor HC-SR501</li>
<li>Generic RGB Diode</li>
</ul>
<p>Jiné součástky mohou také fungovat (netestováno).</p>
<h2>Instalace</h2>
<p>Ardularm byl vytvořen pomocí Arduino IDE (kód pro Arduino) a dalším editorem (pro serverovou část, PHP kód). Knihovny <a href="http://www.addicore.com/v/vspfiles/downloadables/Product%20Downloadables/RFID_RC522/AddicoreRFID.zip">AddicoreRFID</a>* a <a href="http://getbootstrap.com/">Bootstrap framework</a> byly využity při vývoji. Pro instalaci projektu je potřeba:</p>
<ol type="1">
<li>Vytvořte databázi a e-mailovou schránku na vašem hostingu.</li>
<li>Upravte a vyplňte <code>Server\template.config.php</code> a uložte soubor jako <code>Server\config.php</code>.</li>
<li>Vytvořte soubor <code>Server\.htpasswd</code> se zvoleným uživatelským jménem a heslem (<a href="https://faq.oit.gatech.edu/content/how-do-i-do-basicauth-using-htaccess-and-htpasswd">https://faq.oit.gatech.edu/content/how-do-i-do-basicauth-using-htaccess-and-htpasswd</a>), přepište cestu v <code>Server\template.htaccess</code> a uložte soubor jako <code>.htaccess</code>. Zabezpečení přes htaccess platí pouze pro servery Apache!</li>
<li>Nahrajte obsah adresáře <code>Server</code> na server.</li>
<li>Spusťte <code>Server\<a class="el" href="create_8php.html" title="Creates necessary tables in database to run Ardularm. ">create.php</a></code>. Tím automaticky vytvoříte tabulky databáze potřebné pro fungování Ardularmu.</li>
<li>Zapojte vaše Arduino UNO podle sekce "Komponenty a zapojení".</li>
<li>Vyplňte proměnné v <code>Arduino\Ardularm\<a class="el" href="_ardularm_8ino.html" title="The code running on Arduino unit. ">Ardularm.ino</a></code> pod komentářem "user-configurable".</li>
<li>Nahrajte <code>Arduino\Ardularm\<a class="el" href="_ardularm_8ino.html" title="The code running on Arduino unit. ">Ardularm.ino</a></code> na vaše Arduino UNO prostřednictvím Arduino IDE.</li>
<li>Opakujte kroky 6, 7, 8 pro každé zařízení, které si přejete připojit.</li>
<li>Užívejte si pocit bezpečí.</li>
</ol>
<p>Ardularm byl vyvinut na Apache serveru s MySQL databází, nicméně PDO by mělo zajistit kompatibilitu s ostatními SQL databázemi (netestováno).</p>
<p>Klíč "key" Arduina (<code><a class="el" href="_ardularm_8ino.html" title="The code running on Arduino unit. ">Ardularm.ino</a></code>) musí souhlasit s klíčem severu (<code>config.php</code>) a nemůže být prázdný. Zajišťuje, že komunikace POST requestem pochází přímo z Arduina. Při použití více Arduin musí být klíče na všech stejné.</p>
<ul>
<li>Knihovna AddicoreRFID musela být modifikována, aby fungovala paralelně s Ethernet Shield.</li>
</ul>
<h2>Návod k použití</h2>
<p><b>Zapnutí/vypnutí alarmu</b> Pouze důvěryhodné karty mohou přepínat stav alarmu. Pokud je alarm aktivní, svítí červeně, pokud neaktivní, zeleně (jako semafor - zelená znamená, že můžete projít).</p>
<p><b>Přidat/odebrat kartu do/z důvěryhodných</b> Nejdříve je potřeba načíst MasterTag (administrátorská karta) a vyčkat, než se dioda rozsvítí modře. Pak lze načíst další kartu, která bude zaevidována jako důvěryhodná, pokud předtím nebyla. POZOR: Pokud karta již byla důvěryhodná, bude z důvěryhodných ODEBRÁNA.</p>
<p><b>Zobrazení událostí</b> Zobrazení událostí je možné v logu na <code>../dash.php</code>. Záznamy jsou seřazeny od nejnovějšího po nejstarší. Pro vyhledání v určitém časovém období, vyplňte data a stiskněte tlačítko "search". Pokud chcete stránku nechat spuštěnou a vidět nové záznamy, zatrhněte "atorefresh". Stránka se pak bude obnovovat s frekvencí 5 sekund.</p>
<div class="image">
<img src="log.jpg" alt="log.jpg"/>
<div class="caption">
Log</div></div>
<p> <b>Změna jména karty</b> Pod výběrem data u logu klikněte na "Change User Name". Všechny čtyři identifikační čísla musí být vyplněny, aby mohlo být změněno jméno. Úspěšná změna bude potvrzena oznámením na konci odstavce.</p>
<div class="image">
<img src="user.jpg" alt="user.jpg"/>
<div class="caption">
User</div></div>
 <h2>Výsledek</h2>
<p>Při správném postupu by měl konečný výtvor vypadat podobně:</p>
<div class="image">
<img src="front.jpg" alt="front.jpg"/>
<div class="caption">
Front</div></div>
<div class="image">
<img src="back.jpg" alt="back.jpg"/>
<div class="caption">
Back</div></div>
<div class="image">
<img src="inside.jpg" alt="inside.jpg"/>
<div class="caption">
Inside</div></div>
<p> Infračervený sensor by měl směřovat do prostoru, který si přejete zajistit, RFID čtečka spolu s LED by pak měla být přístupná bez narušení tohoto prostoru. Vodiče mohou být samozřejmě prodlouženy a mechanicky chráněny pro dosažení takového výsledku.</p>
<h2>Licence</h2>
<p><a href="https://github.com/MichalMares/Ardularm/blob/master/LICENSE.txt">MIT</a> @ <a href="https://github.com/MichalMares">Michal Mareš</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
